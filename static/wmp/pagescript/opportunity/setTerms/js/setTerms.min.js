;/*!src/setTerms/setTerms.js*/
Vue.http.options.emulateJSON=!0;var FormView=Vue.extend({template:"#form-temp",data:function(){return{location:"",industries:[],tipsDisplay:{location:!1,industries:!1}}},props:["olocation","oindustries"],watch:{"industries.length":function(t){t>0&&(this.tipsDisplay.industries=!1)}},methods:{onsubmit:function(){},callIndustry:function(){var t=this;zh.chooseIndustry({industries:this.industries,maxCount:10},function(i){t.industries=i.industries})},deleteindustries:function(t){this.industries.splice(t,1)},commit:function(){var t=!0;for(var i in this.$data)"[object Object]"===Object.prototype.toString.apply(this.$data[i])||"[object Array]"===Object.prototype.toString.apply(this.$data[i])&&this.$data[i].length>0||"urls"===i||"string"==typeof this.$data[i]&&""!==this.$data[i]||this.$data[i]>0||(this.tipsDisplay[i]=!0,t&&(t=!1));return t&&(App.location=this.location,App.industries=this.industries,App.fetchData()),t}},mounted:function(){this.location=this.olocation,this.industries=this.oindustries}}),Dialog=Vue.extend({template:"#dialog-temp",props:{opened:Boolean,closeDisabled:Boolean,task:String},computed:{tips:function(){return dialogConfig[this.task]}},methods:{onSwitch:function(){this.$emit("onswitch")},linkTo:function(){switch(this.task){case"goAuth":zh.notifyAuthstep({success:function(){App.verificationAuth(function(t){t&&(App.showDialog=!1,App.isIdentification=!0)})}}),zh.authstep();break;case"goEdit":zh.notifyProfileGuide({success:function(){App.isIdentification&&(App.showDialog=!1),App.complete=!0}}),zh.profileGuide()}}}});Vue.component("zh-dialog",Dialog);var App=new Vue({data:{location:edit&&edit.location?edit.location:"",industries:edit&&edit.industries?edit.industries:[],complete:complete,isIdentification:isIdentification,resourceId:resourceId,showDialog:!this.complete||!this.isIdentification},computed:{DialogTask:function(){return this.complete?this.isIdentification?"":"goAuth":"goEdit"}},components:{FormView:FormView},methods:{verificationAuth:function(t){var i=this;Vue.http.get("/wmp/user/"+appConfigId+"/resource/app/detailData/"+i.resourceId).then(function(i){var e=i.body;try{e=JSON.parse(e)}catch(o){}t(e.data.isAuth)})},formatIndustries:function(t){for(var i=[].concat(t),e=0;e<i.length;e++)i[e]=i[e].tagId;return i},fetchData:function(){var t={resourceId:resourceId,address:this.location,industries:this.formatIndustries(this.industries).toString()};console.log(t),Vue.http.post("/wmp/user/"+appConfigId+"/resource/app/expand",t).then(function(t){var i=JSON.parse(t.body);return 0!=i.code?(alert(i.msg),void console.error("[zh-info]create:",i.msg)):void(zh&&zh.redirectTo?zh.redirectTo({url:wmpurl+"/wmp/user/"+appConfigId+"/resource/app/expanding?resourceId="+resourceId}):location.href="/wmp/user/"+appConfigId+"/resource/app/expanding?resourceId="+resourceId)})},commit:function(){this.$refs.form.commit()}}}).$mount("#app");